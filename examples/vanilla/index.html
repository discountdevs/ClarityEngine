<!DOCTYPE html>
<html>
	<head>
		<meta  charset="UTF-8">
		<meta  http-equiv="X-UA-Compatible"  content="IE=edge">
		<meta  name="viewport"  content="width=device-width, initial-scale=1.0">
		<title>Clarity Example - Vanilla</title>
	</head>
	<body>
        <!-- Canvas that renderes Clarity -->
        <canvas id="ClarityCanvas"  width="600"  height="600"></canvas>
		<!-- The engine -->
	    <script src="/src/Clarity.js"></script>
        <!-- Mapvar -->
        <script src="main.js"></script>
        <!-- Initialization -->
        <script>
            var  canvas  =  document.querySelector('#ClarityCanvas'); // Get the canvas and the 2d context
                    ctx  =  canvas.getContext('2d');
        
            window.game = new Clarity(); // Initialize the game
            game.load_map(window.map);
            game.set_viewport(canvas.width, canvas.height); // Ensure that the viewport is properly set
        
            var  Loop  =  function() {
                // Fill the background (areas not drawn on the map)
                ctx.fillStyle  =  '#111';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                // Draw the game
                game.update();
                game.draw(ctx);
            };
        
            window.renderInterval  =  setInterval(Loop, 16.7);
        </script>
	</body>
</html>